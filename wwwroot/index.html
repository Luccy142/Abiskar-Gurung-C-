<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>MyJornal</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="MyJornal.styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/glacial-indifference-2" rel="stylesheet">
    <link rel="icon" href="data:,">
</head>

<body>

    <div class="status-bar-safe-area"></div>

    <div id="app">Loading...</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <script>
        window.themeHelper = {
            setTheme(theme) {
                const root = document.documentElement;
                if (theme === "dark") {
                    root.setAttribute("data-theme", "dark");
                } else {
                    root.removeAttribute("data-theme");
                }
            }
        };

        window.editorHelper = {
            insertText: function (elementId, text) {
                const textarea = document.getElementById(elementId);
                if (!textarea) return;

                const start = textarea.selectionStart;
                const end = textarea.selectionEnd;
                const value = textarea.value;

                textarea.value = value.substring(0, start) + text + value.substring(end);
                textarea.selectionStart = textarea.selectionEnd = start + text.length;
                textarea.focus();
                textarea.dispatchEvent(new Event('change', { bubbles: true }));
            },
            wrapSelection: function (elementId, prefix, suffix) {
                const textarea = document.getElementById(elementId);
                if (!textarea) return;

                const start = textarea.selectionStart;
                const end = textarea.selectionEnd;
                const value = textarea.value;
                const selected = value.substring(start, end);

                if (selected.length === 0) {
                    // No selection: insert prefix + suffix and put cursor in middle
                    const text = prefix + suffix;
                    textarea.value = value.substring(0, start) + text + value.substring(end);
                    textarea.selectionStart = textarea.selectionEnd = start + prefix.length;
                } else {
                    // Wrap selection
                    textarea.value = value.substring(0, start) + prefix + selected + suffix + value.substring(end);
                    textarea.selectionStart = start + prefix.length;
                    textarea.selectionEnd = end + prefix.length;
                }
                textarea.focus();
                textarea.dispatchEvent(new Event('change', { bubbles: true }));
            }
        };
    </script>

    <script src="_framework/blazor.webview.js" autostart="false"></script>

</body>

</html>